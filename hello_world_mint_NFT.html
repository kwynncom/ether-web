<!DOCTYPE html>
<html lang='en'>
<head>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'    />
<meta name='viewport' content='width=device-width, initial-scale=1.0' />

<title>NFT mint test</title>

<script src='/opt/kwynn/js/utils.js'>/* defines onDOMLoad below, perhaps others */</script> 
<script src='/opt/js/web3/web3.min.js'></script>
<script>   // see notes in hello_world_ETH_tx

let accounts = []; 
    
onDOMLoad( () => { 

    const ethereumButton = document.querySelector('.enableEthereumButton');
    const sendEthButton = document.querySelector('.sendEthButton');

    ethereumButton.addEventListener('click', () => {  getAccount(); });

    sendEthButton.addEventListener('click', () => {
      ethereum.request({
          method: 'eth_sendTransaction',
          params: [{
              from: accounts[0],
              to: '0x8ca86d22241C3458441E286Fa0062023988c1E61',
              recipient: accounts[0],
              value : '0x11c37937e080000', // 0.08 ETH
              data : '0x755edd170000000000000000000000009beb87e50dbb3f1356c9b8d72a5f08c794d3b95f',
            }],
        }) // request
        .then((txHash) => console.log(txHash))
        .catch((error) => console.error);
    }); // onclick
}); // on DOM

async function getAccount() { accounts = await ethereum.request({ method: 'eth_requestAccounts' }); }
</script>
</head>
<body>
<div>
    <div style='margin-bottom: 2ex; '>
        <button class="enableEthereumButton btn">Step 1 - Enable Ethereum / connect to MetaMask</button>
    </div>
    <div>
        <button class="sendEthButton btn">Step 2 - Mint NFT</button>
    </div>
</div>
    
<p>I won't give as dire a warning about this being test-only because I don't suppose anyone is going to mint random NFTs.

</p>

<p><a href='ether.html'>My main doc page</a> 
    <span style='padding-left: 3ex;'><a href='https://github.com/kwynncom/ether-web'>GitHub repo with this code</a></span>
     <span style='padding-left: 3ex;'><a href='hello_world_ETH_tx.html'>standard send ETH transaction</a></span>       
</p>

<p>v 19:56 - 2nd contract, 0.08 ETH, 2,222 tokens
</p>

</body>
</html>
